<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v6.0.0-beta1/css/all.css">
  
</head>

<body style="background-color: #E6E6DE">
  

  <title>Suppliers</title>
    {{> navbarPurchasing}} 

   <div class=" p-3" >
    <div class="card">
      <div class="card-body rounded shadow" style="background-color: #CC985A">
        <div class="d-flex justify-content-between">
          <h3 class="text-light">Suppliers</h3>
          <!-- Button trigger modal -->
          <span class="createPurchasedIngredient text-end fs-6 pt-1">
           <!-- Button trigger modal -->
             <button type="button" class="btn text-light" style="background-color: #DD620E " data-bs-toggle="modal" data-bs-target="#exampleModal">
              <i class="fa-solid fa-circle-plus"></i>
              Add Supplier
              </button>
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

              <div class="modal-body">
                ...
                <section>
                  <div
                  class="card position-absolute top-10 start-50 translate-middle"
                  style="width: 100vh"
                  >
                  <div style="background-color:#F8F5F1;">
                    <form action="/purchasing/addIngredient" method="POST" class="m-4 pb-5">
                      <header class="pb-5">
                        <h3 class="float-start">Add Supplier</h3>
                      </header>

                      <section>
                        <div class="input-group mb-3">
                          <span
                          class="input-group-text col-3 bg-success text-light"
                          id="basic-addon3"
                          >Name</span
                          >
                          <input 
                          type="text"
                          class="form-control"
                          id="purchased-ingredient-name"
                          aria-describedby="basic-addon3"
                          required
                          name="name"
                          />
                        </div>

                        <div class="input-group mb-3">
                          <span

                          class="input-group-text col-3 bg-success text-light"
                          id="basic-addon3"
                          >Contact #</span
                          >
                          <input 
                          type="tel"
                          class="form-control"
                          id=""
                          aria-describedby="basic-addon3"
                          placeholder="09XXXXXXXXX"
                          pattern="[0-9]{4}[0-9]{3}[0-9]{4}"
                          required
                          name="contact"
                          />
                        </div>

                        <div class="input-group mb-3">
                          <span
                          class="input-group-text col-3 bg-success text-light"
                          id="basic-addon3"
                          >Address</span
                          >
                         <textarea class="form-control" id="exampleFormControlTextarea1" rows="2" required name="address"></textarea>
                        </div>



                        <div class="float-end">
                          <a href="purchasingPurchased.html">
                            <button
                            type="submit"
                            class="btn btn-secondary mx-3 text-light"
                            >
                            Cancel
                          </button>
                        </a>
                        <button type="submit" class="d-inline float-end btn btn-m text-light" style="background-color: #7CA6A6">
                          Save
                        </button>
                      </div>
                    </section>
                  </form>
                </div>
              </div>
            </section>



          </div>
        </div>
      </div>
    </div>

    <!-- End of modal -->
          </span>
        </div>
    </div>
</div>


<div class="col-md-12 mt-3">
  <div class="card">
   <div class="card-body overflow-auto  border rounded shadow-lg bg-light" >


      <div class="table-responsive rounded" >
        <table class="table overflow-auto table-hover table-hover table-bordered table-striped">
          <thead>
                <tr class="text-light align-top" style="background-color: #7CA6A6">
              <th class="text-center">Supplier Name</th>
              <th class="text-center">Contact Info</th>
              <th class="text-center">Address</th>
            </tr>
          </thead>
          <tbody>
            <tr>
               {{#each supplier}}
              <td >{{name}}</td>
              <td class="text-center">{{contactNumber}}</td>
              <td class="text-start">{{address}}</td>
            </tr>
             {{/each}}
            </tr>
          </tbody>
        </table>
      </div>

    </div>

  </div>
</div>

<!-- Modal -->
              <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-body">
                     <section>
                      <div class="card position-absolute top-10 start-50 translate-middle" style="width: 130vh">
                        <div style="background-color:#F8F5F1;">
                          <form action="/purchasing/addSupplier" method="POST" class=" p-2">
                            <header class="p-4">
                              <h3>Edit Supplier Info</h3>
                            </header>

                            <section>
                              <div class="input-group px-4 mb-3">
                                <span class="input-group-text col-3 bg-success text-light" id="basic-addon3">Name</span
                                >
                                <div class="row">
                                  <input 
                                  type="text"
                                  class="form-control  supplierName"
                                  id=""
                                  aria-describedby="basic-addon3"
                                  name="name"
                                  disabled
                                  />
                                  <input 
                                  type="text"
                                  class="form-control "
                                  aria-describedby="basic-addon3"
                                  name=""
                                  />
                                </div>
                              </div>

                              <div class="input-group px-4 mb-3">
                            <span
                            class="input-group-text col-3 bg-success text-light"
                            >Contact #</span
                            >
                            <input 
                                type="text"
                                class="form-control supplierContactNumber"
                                aria-describedby="basic-addon3"
                                name="contact"
                                disabled
                                />
                            <input 
                          type="tel"
                          class="form-control"
                          id="purchased-ingredient-name"
                          aria-describedby="basic-addon3"
                          placeholder="09XXXXXXXXX"
                          pattern="[0-9]{4}[0-9]{3}[0-9]{4}"
                          required
                          />
                          </div>

                              <div class="input-group px-4 mb-3">
                                <span class="input-group-text col-3 bg-success text-light" id="basic-addon3">Address</span
                                >
                                <div class="row">
                                  <textarea class="form-control supplierAddress" id="" rows="2" required disabled></textarea>
                                  <textarea class="form-control" id="" rows="2" required></textarea>
                                </div>
                              </div>

                            

                          

                        <div class="float-end m-3">
                         <button type="button" class="btn btn-secondary mx-3 text-light" data-bs-dismiss="modal">Cancel</button>  
                         <button type="submit" class="d-inline float-end btn btn-m text-light" style="background-color: #7CA6A6">
                          Save
                        </button>
                      </div>
                    </section>
                  </form>
                </div>
              </div>
            </section>
          </div>

        </div>
      </div>
    </div>

    <!-- End -->


</body>

<script>

  $(document).ready( () => {

    $(function() {
      $('#startDate').datepicker();
    });

    $(function() {
      $('#endDate').datepicker();
    });

    $('table tbody tr  td').on('click',function(){
      $("#editModal").modal("show");
      $(".supplierName").val($(this).closest('tr').children()[0].textContent);
      $(".supplierContactNumber").val($(this).closest('tr').children()[1].textContent);
      $(".supplierAddress").val($(this).closest('tr').children()[2].textContent);
    });
    
  });





</script>

</html>
